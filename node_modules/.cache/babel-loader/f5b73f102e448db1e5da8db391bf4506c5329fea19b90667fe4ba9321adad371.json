{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Documents/upskilling/projects/project-racker-ui/src/pages/DocumentsPage.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useContext } from \"react\";\nimport API from \"../api/axios\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DocumentsPage = () => {\n  _s();\n  const {\n    token,\n    user\n  } = useContext(AuthContext);\n  const [projects, setProjects] = useState([]);\n  const [selectedProject, setSelectedProject] = useState(\"\");\n  const [documents, setDocuments] = useState([]);\n  const [newDoc, setNewDoc] = useState({\n    title: \"\",\n    file: null\n  });\n  const fetchProjects = async () => {\n    try {\n      const res = await API.get(\"/projects\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setProjects(res.data);\n      if (res.data.length) setSelectedProject(res.data[0].id);\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to load projects\");\n    }\n  };\n  const fetchDocuments = async projectId => {\n    if (!projectId) return;\n    try {\n      const res = await API.get(`/projects/${projectId}/documents`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setDocuments(res.data);\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to load documents\");\n    }\n  };\n  useEffect(() => {\n    fetchProjects();\n  }, []);\n  useEffect(() => {\n    if (selectedProject) {\n      fetchDocuments(selectedProject);\n    }\n  }, [selectedProject]);\n  const handleFileChange = e => {\n    if (e.target.files && e.target.files[0]) {\n      setNewDoc({\n        ...newDoc,\n        file: e.target.files[0]\n      });\n    }\n  };\n  const handleUpload = async e => {\n    e.preventDefault();\n    if (!newDoc.file || !selectedProject) {\n      alert(\"Select a file and project\");\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"title\", newDoc.title);\n    formData.append(\"file\", newDoc.file);\n    try {\n      await API.post(`/projects/${selectedProject}/documents`, formData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"multipart/form-data\"\n        },\n        params: {\n          userId: user.sub\n        }\n      });\n      setNewDoc({\n        title: \"\",\n        file: null\n      });\n      fetchDocuments(selectedProject);\n    } catch (err) {\n      console.error(err);\n      alert(\"File upload failed\");\n    }\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Delete this document?\")) return;\n    try {\n      await API.delete(`/documents/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      fetchDocuments(selectedProject);\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to delete document\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mb-4\",\n      children: \"Documents\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 d-flex align-items-center gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"fw-semibold mb-0\",\n        children: \"Project:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"form-select w-auto\",\n        value: selectedProject,\n        onChange: e => setSelectedProject(e.target.value),\n        children: projects.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: p.id,\n          children: p.title || \"Untitled Project\"\n        }, p.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleUpload,\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row g-3 align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 d-flex align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"projectSelect\",\n            className: \"form-label me-2 mb-0\",\n            style: {\n              minWidth: \"80px\"\n            },\n            children: \"Project:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"projectSelect\",\n            className: \"form-select\",\n            value: selectedProject,\n            onChange: e => setSelectedProject(e.target.value),\n            required: true,\n            children: projects.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: p.id,\n              children: p.title || \"Untitled Project\"\n            }, p.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 d-flex align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"docTitle\",\n            className: \"form-label me-2 mb-0\",\n            style: {\n              minWidth: \"80px\"\n            },\n            children: \"Title:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"docTitle\",\n            className: \"form-control\",\n            placeholder: \"Document title\",\n            value: newDoc.title,\n            onChange: e => setNewDoc({\n              ...newDoc,\n              title: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 d-flex align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"docFile\",\n            className: \"form-label me-2 mb-0\",\n            style: {\n              minWidth: \"80px\"\n            },\n            children: \"File:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"docFile\",\n            className: \"form-control\",\n            onChange: handleFileChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 d-flex justify-content-end mt-2\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Upload Document\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-bordered table-hover\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: \"table-light\",\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Project\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Uploaded By\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Uploaded At\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: documents.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 6,\n            className: \"text-center text-muted\",\n            children: \"No documents found for this project.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this) : documents.map(d => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: d.projectTitle || \"窶能"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: d.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: d.uploadedByName || \"窶能"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: new Date(d.uploadedAt).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: d.urlOrPath,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"btn btn-sm btn-outline-primary\",\n              children: \"View\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-outline-danger\",\n              onClick: () => handleDelete(d.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 29\n          }, this)]\n        }, d.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this);\n};\n_s(DocumentsPage, \"ctB1H9P7irCrc7iqhicYu4X8OjA=\");\n_c = DocumentsPage;\nexport default DocumentsPage;\nvar _c;\n$RefreshReg$(_c, \"DocumentsPage\");","map":{"version":3,"names":["useEffect","useState","useContext","API","AuthContext","jsxDEV","_jsxDEV","DocumentsPage","_s","token","user","projects","setProjects","selectedProject","setSelectedProject","documents","setDocuments","newDoc","setNewDoc","title","file","fetchProjects","res","get","headers","Authorization","data","length","id","err","console","error","alert","fetchDocuments","projectId","handleFileChange","e","target","files","handleUpload","preventDefault","formData","FormData","append","post","params","userId","sub","handleDelete","window","confirm","delete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","map","p","onSubmit","htmlFor","style","minWidth","required","type","placeholder","colSpan","d","projectTitle","uploadedByName","Date","uploadedAt","toLocaleString","href","urlOrPath","rel","onClick","_c","$RefreshReg$"],"sources":["/Users/admin/Documents/upskilling/projects/project-racker-ui/src/pages/DocumentsPage.tsx"],"sourcesContent":["import { useEffect, useState, useContext, ChangeEvent } from \"react\";\nimport API from \"../api/axios\";\nimport { AuthContext } from \"../context/AuthContext\";\n\ninterface DocumentDTO {\n    id: string;\n    title: string;\n    urlOrPath: string;\n    projectId: string;\n    projectTitle: string;\n    uploadedByName: string | null;\n    uploadedAt: string;\n}\n\ninterface Project {\n    id: string;\n    title: string;\n}\n\nconst DocumentsPage = () => {\n    const { token, user } = useContext(AuthContext);\n    const [projects, setProjects] = useState<Project[]>([]);\n    const [selectedProject, setSelectedProject] = useState<string>(\"\");\n    const [documents, setDocuments] = useState<DocumentDTO[]>([]);\n    const [newDoc, setNewDoc] = useState({ title: \"\", file: null as File | null });\n\n    const fetchProjects = async () => {\n        try {\n            const res = await API.get(\"/projects\", {\n                headers: { Authorization: `Bearer ${token}` },\n            });\n            setProjects(res.data);\n            if (res.data.length) setSelectedProject(res.data[0].id);\n        } catch (err) {\n            console.error(err);\n            alert(\"Failed to load projects\");\n        }\n    };\n\n    const fetchDocuments = async (projectId: string) => {\n        if (!projectId) return;\n        try {\n            const res = await API.get(`/projects/${projectId}/documents`, {\n                headers: { Authorization: `Bearer ${token}` },\n            });\n            setDocuments(res.data);\n        } catch (err) {\n            console.error(err);\n            alert(\"Failed to load documents\");\n        }\n    };\n\n    useEffect(() => {\n        fetchProjects();\n    }, []);\n\n    useEffect(() => {\n        if (selectedProject) {\n            fetchDocuments(selectedProject);\n        }\n    }, [selectedProject]);\n\n    const handleFileChange = (e: ChangeEvent<HTMLInputElement>) => {\n        if (e.target.files && e.target.files[0]) {\n            setNewDoc({ ...newDoc, file: e.target.files[0] });\n        }\n    };\n\n    const handleUpload = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!newDoc.file || !selectedProject) {\n            alert(\"Select a file and project\");\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append(\"title\", newDoc.title);\n        formData.append(\"file\", newDoc.file);\n\n        try {\n            await API.post(`/projects/${selectedProject}/documents`, formData, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    \"Content-Type\": \"multipart/form-data\",\n                },\n                params: { userId: user.sub },\n            });\n            setNewDoc({ title: \"\", file: null });\n            fetchDocuments(selectedProject);\n        } catch (err) {\n            console.error(err);\n            alert(\"File upload failed\");\n        }\n    };\n\n    const handleDelete = async (id: string) => {\n        if (!window.confirm(\"Delete this document?\")) return;\n        try {\n            await API.delete(`/documents/${id}`, {\n                headers: { Authorization: `Bearer ${token}` },\n            });\n            fetchDocuments(selectedProject);\n        } catch (err) {\n            console.error(err);\n            alert(\"Failed to delete document\");\n        }\n    };\n\n    return (\n        <div className=\"container mt-5\">\n            <h2 className=\"mb-4\">Documents</h2>\n\n            {/* Project Selection */}\n            <div className=\"mb-4 d-flex align-items-center gap-3\">\n                <label className=\"fw-semibold mb-0\">Project:</label>\n                <select\n                    className=\"form-select w-auto\"\n                    value={selectedProject}\n                    onChange={(e) => setSelectedProject(e.target.value)}\n                >\n                    {projects.map((p) => (\n                        <option key={p.id} value={p.id}>\n                            {p.title || \"Untitled Project\"}\n                        </option>\n                    ))}\n                </select>\n            </div>\n\n            {/* Upload Form */}\n            <form onSubmit={handleUpload} className=\"mb-4\">\n                <div className=\"row g-3 align-items-center\">\n\n                    {/* Project Dropdown */}\n                    <div className=\"col-md-4 d-flex align-items-center\">\n                        <label htmlFor=\"projectSelect\" className=\"form-label me-2 mb-0\" style={{ minWidth: \"80px\" }}>\n                            Project:\n                        </label>\n                        <select\n                            id=\"projectSelect\"\n                            className=\"form-select\"\n                            value={selectedProject}\n                            onChange={(e) => setSelectedProject(e.target.value)}\n                            required\n                        >\n                            {projects.map((p) => (\n                                <option key={p.id} value={p.id}>\n                                    {p.title || \"Untitled Project\"}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n\n                    {/* Document Title */}\n                    <div className=\"col-md-4 d-flex align-items-center\">\n                        <label htmlFor=\"docTitle\" className=\"form-label me-2 mb-0\" style={{ minWidth: \"80px\" }}>\n                            Title:\n                        </label>\n                        <input\n                            type=\"text\"\n                            id=\"docTitle\"\n                            className=\"form-control\"\n                            placeholder=\"Document title\"\n                            value={newDoc.title}\n                            onChange={(e) => setNewDoc({ ...newDoc, title: e.target.value })}\n                            required\n                        />\n                    </div>\n\n                    {/* File Input */}\n                    <div className=\"col-md-4 d-flex align-items-center\">\n                        <label htmlFor=\"docFile\" className=\"form-label me-2 mb-0\" style={{ minWidth: \"80px\" }}>\n                            File:\n                        </label>\n                        <input\n                            type=\"file\"\n                            id=\"docFile\"\n                            className=\"form-control\"\n                            onChange={handleFileChange}\n                            required\n                        />\n                    </div>\n\n                    {/* Upload Button */}\n                    <div className=\"col-md-12 d-flex justify-content-end mt-2\">\n                        <button type=\"submit\" className=\"btn btn-primary\">\n                            Upload Document\n                        </button>\n                    </div>\n\n                </div>\n            </form>\n\n            {/* Documents Table */}\n            <table className=\"table table-bordered table-hover\">\n                <thead className=\"table-light\">\n                <tr>\n                    <th>Project</th>\n                    <th>Title</th>\n                    <th>Uploaded By</th>\n                    <th>Uploaded At</th>\n                    <th>File</th>\n                    <th>Actions</th>\n                </tr>\n                </thead>\n                <tbody>\n                {documents.length === 0 ? (\n                    <tr>\n                        <td colSpan={6} className=\"text-center text-muted\">\n                            No documents found for this project.\n                        </td>\n                    </tr>\n                ) : (\n                    documents.map((d) => (\n                        <tr key={d.id}>\n                            <td>{d.projectTitle || \"窶能"}</td>\n                            <td>{d.title}</td>\n                            <td>{d.uploadedByName || \"窶能"}</td>\n                            <td>{new Date(d.uploadedAt).toLocaleString()}</td>\n                            <td>\n                                <a\n                                    href={d.urlOrPath}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                    className=\"btn btn-sm btn-outline-primary\"\n                                >\n                                    View\n                                </a>\n                            </td>\n                            <td>\n                                <button\n                                    className=\"btn btn-sm btn-outline-danger\"\n                                    onClick={() => handleDelete(d.id)}\n                                >\n                                    Delete\n                                </button>\n                            </td>\n                        </tr>\n                    ))\n                )}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default DocumentsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}